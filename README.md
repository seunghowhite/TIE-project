# TIE 

> Today I Exercise ë§¤ì¼ ìš´ë™ì„ ì¸ì¦í•˜ëŠ” ì•± ì…ë‹ˆë‹¤.

- URL : [TIE ğŸ ](http://tieproject.s3-website.ap-northeast-2.amazonaws.com/)

<br/>

### ğŸ“† í”„ë¡œì íŠ¸ ê¸°ê°„

- 2023/03/16 ~ 2023/03/23 (7ì¼)

<br/>

### ğŸ’» í”„ë¡ íŠ¸ì—”ë“œ ê¸°ìˆ  ìŠ¤íƒ

<center>
<br/>
<div style="display: inline;">
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=white">
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
<img src="https://img.shields.io/badge/redux-764ABC?style=for-the-badge&logo=redux&logoColor=white">
</div>

<div style="display: inline;">
<img src="https://img.shields.io/badge/styled_components-DB7093?style=for-the-badge&logo=styledcomponents&logoColor=white">
<img src="https://img.shields.io/badge/axios-6236FF?style=for-the-badge&logo=axios&logoColor=white">
<img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white">
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
</div>

<div style="display: inline;">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white"></div>
</center>
<br>

### ğŸ”§ ì£¼ìš” ê¸°ëŠ¥
<img width="297" alt="image" src="https://user-images.githubusercontent.com/105100315/227180134-d4880885-ef24-4ac1-b85c-4530c8da9cca.png"><img width="222" alt="image" src="https://user-images.githubusercontent.com/105100315/227180341-e94dfb30-1853-4bd1-9d71-9b11d6029221.png">

<img width="209" alt="image" src="https://user-images.githubusercontent.com/105100315/227209800-380ec896-d14a-4034-9980-16e438ab2a85.png"><img width="200" alt="image" src="https://user-images.githubusercontent.com/105100315/227209897-c5f14075-8191-4f21-ac5c-dd530b828054.png">


ìì‹ ì˜ ìš´ë™ ì‚¬ì§„ì„ ì˜¬ë¦¬ë©´ì„œ ìš´ë™ ì¸ì¦.
ìš´ë™ì‚¬ì§„ì— ëŒ“ê¸€ê¸°ëŠ¥.
ê²Œì‹œê¸€ CRUD
ëŒ“ê¸€ CRD


## ğŸ“ ê¸°ëŠ¥ êµ¬í˜„

### 1. íšŒì›ê°€ì…
íšŒì›ê°€ì… ì‹œ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ì§„í–‰í•œ ê°’ì„ ì„œë²„ì— ì „ì†¡

### 2. ë¡œê·¸ì¸

- ë¡œê·¸ì¸ & ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥
- ì¿ í‚¤ ì €ì¥ ë° ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€


### ê²Œì‹œê¸€ CRUD

### 1. [CREATE]


### 2. [READ]


### 3. [UPDATE & DELETE]


<hr/>

### ğŸ’– About Front-end

#### ğŸ‘ª &nbsp; íŒ€ì›

|   ì´ë¦„    |          ê¹ƒí—ˆë¸Œ ì£¼ì†Œ          |                            ì—­í•  ë¶„ë‹´                             |
| :-------: | :---------------------------: | :--------------------------------------------------------------: |
| ğŸ‘¦ ë°±ìŠ¹í˜¸ |https://github.com/seunghowhite |ë¡œê·¸ì¸, í† í°ê°’ í™œìš©, |
| ğŸ‘§ ì´ì£¼í¬ |https://github.com/2ggg |CRUD  |

<hr/>

## íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

## input type =â€fileâ€ ì„ì´ìš©í•œ formData


í•˜ê³  ì‹¶ì€êµ¬í˜„. ìˆ˜ì • í˜ì´ì§€ë¡œ ë“¤ì–´ê°€ë©´ ê¸°ì¡´ì— ê°€ì§€ê³ ìˆëŠ” íŒŒì¼ ëª…ì´ ë“¤ì–´ê°€ ìˆìœ¼ë©´ ì¢‹ì€ë°. input typeì— fileë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë³´ì•ˆìƒ ê¸°ì¡´ê°’ valueì— ì ‘ê·¼ í•  ìˆ˜ ì—†ë‹¤ê³  í•œë‹¤. 

ê·¸ë˜ì„œ ë°±ì—”ë“œì—ì„œ ë°”ì´ë„ˆë¦¬ ê°’ì„ blobì„ ì´ìš©í•´ì„œ ë°›ê³  ë„£ì–´ì£¼ê³  ì‹¶ì—ˆì§€ë§Œ ë¶ˆê°€ëŠ¥ í–ˆë‹¤.




ê·¸ë¦¬ê³  ê·¸ë ‡ê²Œ ì´ìš©í•œë‹¤ë©´ ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì‚¬ìš©í•˜ì—¬ ë¹„íš¨ìœ¨ ì ì´ë‹¤.  ê·¸ë ‡ê¸° ë•Œë¬¸ì— 

ë°±ì—”ë“œ ìª½ì—ì„œ ì‚¬ì§„ ê°’ì´ ë°”ë€ê²Œ ì—†ìœ¼ë©´ ê¸°ì¡´ ì‚¬ì§„ì„ ìœ ì§€í•˜ëŠ” ë°©ë²•ì„ ì“°ê³  í•´ê²°í–ˆì§€ë§Œ

ì €ë ‡ê²Œ ì„ íƒëœ íŒŒì¼ì´ ì—†ìŒì´ ëœ¨ëŠ”ê²ƒì€ ì¡°ê¸ˆ ì°œì°œí•˜ë‹¤. 

ğŸ’¡ì‚¬ì§„ ëª…ì„ ë°›ì•„ì„œ ê·¸ëƒ¥ ë„£ì–´ë‘ê³  ë°±ì•¤ë“œ ìª½ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©´ ì¢‹ì„ê²ƒ ê°™ë‹¤.

## formdataë¡œ ê°’ë³´ë‚´ê¸°.

## ğŸ¤”formdataì— appendí•˜ë©´ dataê°€ ì–´ë–¤ í˜•ì‹ìœ¼ë¡œ ë°”ë€”ê¹Œ??

**`append`**
 ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í‚¤/ê°’ ìŒì„ ì¶”ê°€í•œë‹¤.

formdataì˜ ì˜ˆì‹œ.

```jsx
let formData = new FormData();
formData.append('name', 'John');
formData.append('file', fileInput.files[0]);
```


file ë°›ëŠ”ê°’.

ì´ì ì„ ì´ìš©í•´ì„œ headerì— í† í°ì„ ë„£ì–´ì„œ ë³´ë‚´ì•¼ í–ˆë‹¤.  (ëª…ì„¸ì„œì—ëŠ” ê·¸ë ‡ê²Œ ì‘ì„±)

ì´ë ‡ê²Œ  ë§Œë“¤ì–´ì„œ headerì— í† í°ì„ ë„£ì–´ì„œ ë³´ë‚´ì•¼ í•˜ëŠ” ìƒí™©ì¸ë°â€¦ ë¬¸ì œ í•´ê²°ì´ ì–´ë ¤ì› ë‹¤.

ğŸ’¡ì•Œê³ ë³´ë‹ˆ ë°±ì—”ë“œ ìª½ì—ì„œ headerë¡œë°›ëŠ”ê²Œ ì•„ë‹ˆë¼  ì¿ í‚¤ë¡œ ë°›ìœ¼ì‹œê³  ìˆì—ˆë‹¤â€¦(?) ì˜ ëª¨ë¥´ì§€ë§Œ í•´ë”ë¡œ ë„£ëŠ” ë°©ë²•ì€ ì•Œë§ê²Œ ì „ë‹¬í–ˆê¸° ë•Œë¬¸ì— 

```jsx
 //* ì œì¶œí•˜ê¸°.
  const submitPost = async (e) => {
    e.preventDefault();
    const formdata = new FormData();
    formdata.append('title', title)
    formdata.append('content', content)
    formdata.append('img', img)
    try {
      const result = await apis.post('api/posts', formdata, {
        headers: { authorization: `Bearer ${token}` }
      })
      console.log(result.data.message);
      alert('ê²Œì‹œê¸€ ì‘ì„±ì™„ë£Œ')
      navigator("/")
    } catch (e) {
      console.log(e);
      alert(e.response.data.errorMessage)
    }
  }
```

ì´ëŸ°ì‹ìœ¼ë¡œ í—¤ë” ë¡œ í† í°ì„ ë³´ë‚´ë‹ˆ ë¬¸ì œê°€ í•´ê²°ì´ ë˜ì—ˆë‹¤.

ëª…ì„¸ì„œâ€¦ ì˜ ì“°ê³  ì˜ í™•ì¸í•˜ì.

## catch ë¬¸ì•ˆì— ì—ëŸ¬ë©”ì‹œì§€ ë‹¤ ë°›ì•„ë†“ê³  data í™•ì¸ ë¯¸ìŠ¤..

catchë¬¸ì•ˆì— ì—ëŸ¬ë©”ì‹œì§€ ë‹¤ ë°›ì•„ë†“ê³  dataê°’ ì˜ ì•ˆê¹Œë³´ê³  í•´ê²° ëª»í•´ì„œ ì˜¤í›„ë¥¼ ë²„ë ¸ë‹¤

```jsx
//*ì•„ì´ë”” ì¤‘ë³µí™•ì¸
  const checkID = async () => {
    const checkinpo = {
      userId: userID,
    }
    try {
      const result = await apis.post('/api/signup/check', checkinpo)
      console.log("ë°›ì€ë°ì´í„°", result.data);
      setCheckId(result.duplicationResult)
    }
    catch (e) {
      // console.error(e.response.data.errorMessage)
      alert(e.response.data.errorMessage)
    }
  }
```

ì €ê¸° eì— ëª¨ë“ ê²Œ ì˜ ë‹´ê²¨ìˆëŠ”ë° ë„¤íŠ¸ì›Œí¬ ì°½ì„ ë³´ëŠ” ë²•ì„ ì˜ ëª°ë¼ì„œ response ê°’ì´ ì–´ë–»ê²Œ ë“¤ì–´ì˜¤ëŠ”ì§€ í™•ì¸ì„ ëª»í–ˆë‹¤. ê·¸ê²ƒë„ ëª¨ë¥´ê³  ë°±ì•¤ë“œ ë¶„ë“¤ì´ë‘ ìƒì˜ë¥¼ ì§„í–‰ í–ˆë‹¤â€¦ ë‚´ê°€ ì¡°ê¸ˆë” ë„¤íŠ¸ì›Œí¬ íƒ­ì„ ì˜ ë³¼ìˆ˜ ìˆë”ë¼ë©´.,ã… ã… ã… 

âœ…ì§„ì§œ ê°œë°œì ë„êµ¬ ì—´ì‹¬íˆ ê³µë¶€í•´ì„œ ì˜ ì¨ë¨¹ë„ë¡ í•˜ì.


## ğŸ¤”ì•„ì§ í•´ê²° ëª»í•œê²ƒ.
### update ë¶€ë¶„.

<img width="343" alt="image" src="https://user-images.githubusercontent.com/105100315/227181484-ca9e0fdb-531c-45c5-9031-2e40bdd9300f.png">

ëœë”ë§ì´ ì„  ì§„í–‰ìœ¼ë¡œ undefinedê°€ ë¨¼ì € ëœ¨ëŠ”ê²ƒ ê°™ì€ë° undefined ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì‘ì„± í•´ì•¼ í•  ë“¯í•˜ë‹¤.

```
  const token = cookies.get("token");
  const dispatch = useDispatch();
  const [postList, setPostList] = useState();
  const { posts } = useSelector((state) => {
    return state.postsSlice;
  });
  console.log('posts', posts);
  let decodetoken = null;
  if (token) {
    decodetoken = jwtDecode(token);
  }
  const navigator = useNavigate();
  const param = useParams();
  const id = param.postId
  const foudData = posts?.find((data) => data.postId === Number(id));
  console.log(foudData, 'fondData');
  let foundimg = null
  if (foudData.img && !foudData.img && foudData.img !== 'false') {
    foundimg = `${process.env.REACT_APP_IMAGE_URL}` + foudData.img
  }
  ```


